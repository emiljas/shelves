{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap 9016868ee5fa5e2a815b","webpack:///./src/main.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","animationLoop","t","FPS","isNearZeroPx","value","handleStart","e","handleEnd","handleCancel","handleMove","evt","Segment","data","View","x","i","l","segmentsData","length","segmentData","lastTimestamp","animationTimestamp","shelvesCanvas","document","getElementById","canvasWidth","width","canvasHeight","height","ctx","getContext","color","timestamp","window","requestAnimationFrame","prototype","tick","now","this","elapsed","last","get","Math","round","DIFF","addEventListener","lastMoveX","isCanvasTouched","moveDistance","distanceToMove","backBtn","nextBtn","view"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA,KDMM,SAASI,EAAQD,GE1BnB,QAAAQ,GAAuBC,GAMrBD,GALAA,EAAYA,EAEZA,EAAIA,OACJA,EAAIA,UAAUA,EAAGA,EAAGA,EAAaA,IAE7BA,EAAaA,GAAiBA,CAChCA,GAAIA,IAA6BA,EAAYA,GAAsBA,IAC/DA,EAAIA,KAAKA,IAAIA,GAA6BA,CAE9CA,IAAgBA,EAChBA,GAAkBA,EAGpBA,EAAIA,UAAUA,EAAcA,GAC5BA,EAAKA,OACLA,EAAIA,UAEJA,EAAgBA,EAChBA,OAAOA,sBAAsBA,GAC1BA,OAAoBA,aACrBA,OAAoBA,YAAEA,KAAKA,GAenC,QAAAE,KACEA,KAAKA,QAAUA,EACfA,KAAKA,KAAOA,KA+BV,QAAAC,GAAsBC,GACpBD,MAAOA,MAAKA,IAAIA,GAASA,EA0B7B,QAAAE,GAAqBC,GACnBD,EAAEA,iBACFA,GAAkBA,EAGpB,QAAAE,KACEA,GAAkBA,EAClBA,EAAYA,KAGd,QAAAC,KACEA,GAAkBA,EAClBA,EAAYA,KAGd,QAAAC,GAAoBC,GAClBD,GAAkBA,CAClBA,IAAIA,GAAQA,EAAIA,QAAQA,EAERA,OAAbA,IACDA,GAAgBA,EAAMA,MAAQA,GAEhCA,EAAYA,EAAMA,MAMlB,QAAAE,GAAiBC,GACfD,EAAIA,UAAYA,EAAKA,MACrBA,EAAIA,SAASA,EAAGA,EAAGA,EAAKA,MAAOA,KAE/BA,GAAKA,EAAKA,MAGZ,QAAAE,KACEA,KAAKA,KAAOA,WACVC,EAAI,CACJ,KAAI,GAAIC,GAAI,EAAGC,EAAIC,EAAaC,OAAYF,EAAJD,EAAOA,IAAK,CAClD,GAAII,GAAcF,EAAaF,EAC/B,IAAIJ,GAAQQ,KAzJlB,GAcmBC,GACfC,EAfAC,EAAmCC,SAASC,eAAe,iBAC3DC,EAAcH,EAAcI,MAC5BC,EAAeL,EAAcM,OAC7BC,EAAMP,EAAcQ,WAAW,MAE/Bb,IACAS,MAAO,IAAKK,MAAO,uBACnBL,MAAO,IAAKK,MAAO,oBACnBL,MAAO,IAAKK,MAAO,sBACnBL,MAAO,IAAKK,MAAO,sBACnBL,MAAO,IAAKK,MAAO,mBACnBL,MAAO,IAAKK,MAAO,uBAGnBC,EAAY,CA2BhBC,QAAOC,sBAAsBlC,GAiBjCE,EAAIiC,UAAUC,KAAO,SAAUC,GAC7BC,KAAKC,SAAWF,GAAOC,KAAKE,MAAQH,IAAQ,IAC5CC,KAAKE,KAAOH,GAGdnC,EAAIiC,UAAUM,IAAM,WAChB,MAAOC,MAAKC,MAAM,EAAIL,KAAKC,UAG/BN,OAAoB,YAAI,GAAI/B,EAkBxB,IAAI0C,GAAO,EAKbtB,GAAcuB,iBAAiB,aAAcxC,GAAa,GAC1DiB,EAAcuB,iBAAiB,WAAYtC,GAAW,GACtDe,EAAcuB,iBAAiB,cAAerC,GAAc,GAC5Dc,EAAcuB,iBAAiB,YAAapC,GAAY,EAExD,IAEIqC,GAFAC,GAAkB,EAClBC,EAAe,EAGfC,EAAiB,EAEjBC,EAAU3B,SAASC,eAAe,UACtC0B,GAAQL,iBAAiB,QAAS,WAChCI,GAAkC,IAClC5B,EAAqBW,IACpB,EAEH,IAAImB,GAAU5B,SAASC,eAAe,UACtC2B,GAAQN,iBAAiB,QAAS,WAChCI,GAAkC,IAClC5B,EAAqBW,IACpB,EA6BD,IAAIlB,GAAI,EAkBJsC,EAAO,GAAIvC","file":"bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\tvar shelvesCanvas = document.getElementById('shelvesCanvas');\r\n\tvar canvasWidth = shelvesCanvas.width;\r\n\tvar canvasHeight = shelvesCanvas.height;\r\n\tvar ctx = shelvesCanvas.getContext('2d');\r\n\tvar segmentsData = [\r\n\t    { width: 200, color: 'rgb(100, 100, 100)' },\r\n\t    { width: 200, color: 'rgb(30, 150, 0)' },\r\n\t    { width: 200, color: 'rgb(140, 10, 200)' },\r\n\t    { width: 200, color: 'rgb(10, 100, 100)' },\r\n\t    { width: 200, color: 'rgb(30, 10, 0)' },\r\n\t    { width: 200, color: 'rgb(140, 255, 200)' },\r\n\t];\r\n\tvar timestamp = 0, lastTimestamp;\r\n\tvar animationTimestamp;\r\n\tfunction animationLoop(t) {\r\n\t    timestamp = t;\r\n\t    ctx.save();\r\n\t    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\r\n\t    if (!isNearZeroPx(distanceToMove)) {\r\n\t        var secondsFromAnimationStart = (timestamp - animationTimestamp) / 1000;\r\n\t        var d = Math.sin(secondsFromAnimationStart) * distanceToMove;\r\n\t        moveDistance += d;\r\n\t        distanceToMove -= d;\r\n\t    }\r\n\t    ctx.translate(moveDistance, 0);\r\n\t    view.draw();\r\n\t    ctx.restore();\r\n\t    lastTimestamp = t;\r\n\t    window.requestAnimationFrame(animationLoop);\r\n\t    if (window['fpsMeasurer']) {\r\n\t        window['fpsMeasurer'].tick(timestamp);\r\n\t    }\r\n\t}\r\n\twindow.requestAnimationFrame(animationLoop);\r\n\tfunction FPS() {\r\n\t    this.elapsed = 0;\r\n\t    this.last = null;\r\n\t}\r\n\tFPS.prototype.tick = function (now) {\r\n\t    this.elapsed = (now - (this.last || now)) / 1000;\r\n\t    this.last = now;\r\n\t};\r\n\tFPS.prototype.get = function () {\r\n\t    return Math.round(1 / this.elapsed);\r\n\t};\r\n\twindow['fpsMeasurer'] = new FPS();\r\n\tvar DIFF = 0.5;\r\n\tfunction isNearZeroPx(value) {\r\n\t    return Math.abs(value) < DIFF;\r\n\t}\r\n\tshelvesCanvas.addEventListener(\"touchstart\", handleStart, false);\r\n\tshelvesCanvas.addEventListener(\"touchend\", handleEnd, false);\r\n\tshelvesCanvas.addEventListener(\"touchcancel\", handleCancel, false);\r\n\tshelvesCanvas.addEventListener(\"touchmove\", handleMove, false);\r\n\tvar isCanvasTouched = false;\r\n\tvar moveDistance = 0;\r\n\tvar lastMoveX;\r\n\tvar distanceToMove = 0;\r\n\tvar backBtn = document.getElementById('backBtn');\r\n\tbackBtn.addEventListener('click', function () {\r\n\t    distanceToMove = distanceToMove - 250;\r\n\t    animationTimestamp = timestamp;\r\n\t}, false);\r\n\tvar nextBtn = document.getElementById('nextBtn');\r\n\tnextBtn.addEventListener('click', function () {\r\n\t    distanceToMove = distanceToMove + 250;\r\n\t    animationTimestamp = timestamp;\r\n\t}, false);\r\n\tfunction handleStart(e) {\r\n\t    e.preventDefault();\r\n\t    isCanvasTouched = true;\r\n\t}\r\n\tfunction handleEnd() {\r\n\t    isCanvasTouched = false;\r\n\t    lastMoveX = null;\r\n\t}\r\n\tfunction handleCancel() {\r\n\t    isCanvasTouched = false;\r\n\t    lastMoveX = null;\r\n\t}\r\n\tfunction handleMove(evt) {\r\n\t    isCanvasTouched = true;\r\n\t    var touch = evt.touches[0];\r\n\t    if (lastMoveX != null) {\r\n\t        moveDistance += touch.pageX - lastMoveX;\r\n\t    }\r\n\t    lastMoveX = touch.pageX;\r\n\t}\r\n\tvar x = 0;\r\n\tfunction Segment(data) {\r\n\t    ctx.fillStyle = data.color;\r\n\t    ctx.fillRect(x, 0, data.width, 100);\r\n\t    x += data.width;\r\n\t}\r\n\tfunction View() {\r\n\t    this.draw = function () {\r\n\t        x = 0;\r\n\t        for (var i = 0, l = segmentsData.length; i < l; i++) {\r\n\t            var segmentData = segmentsData[i];\r\n\t            new Segment(segmentData);\r\n\t        }\r\n\t    };\r\n\t}\r\n\tvar view = new View();\r\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9016868ee5fa5e2a815b\n **/","\r\n    var shelvesCanvas = <HTMLCanvasElement>document.getElementById('shelvesCanvas');\r\n    var canvasWidth = shelvesCanvas.width;\r\n    var canvasHeight = shelvesCanvas.height;\r\n    var ctx = shelvesCanvas.getContext('2d');\r\n\r\n    var segmentsData = [\r\n      { width: 200, color: 'rgb(100, 100, 100)' },\r\n      { width: 200, color: 'rgb(30, 150, 0)' },\r\n      { width: 200, color: 'rgb(140, 10, 200)' },\r\n      { width: 200, color: 'rgb(10, 100, 100)' },\r\n      { width: 200, color: 'rgb(30, 10, 0)' },\r\n      { width: 200, color: 'rgb(140, 255, 200)' },\r\n    ];\r\n\r\n    var timestamp = 0, lastTimestamp;\r\n    var animationTimestamp;\r\n\r\n    function animationLoop(t) {\r\n      timestamp = t;\r\n\r\n      ctx.save();\r\n      ctx.clearRect(0, 0, canvasWidth, canvasHeight);\r\n\r\n      if(!isNearZeroPx(distanceToMove)) {\r\n        var secondsFromAnimationStart = (timestamp - animationTimestamp) / 1000;\r\n        var d = Math.sin(secondsFromAnimationStart) * distanceToMove;\r\n\r\n        moveDistance += d;\r\n        distanceToMove -= d;\r\n      }\r\n\r\n      ctx.translate(moveDistance, 0);\r\n      view.draw();\r\n      ctx.restore();\r\n\r\n      lastTimestamp = t;\r\n      window.requestAnimationFrame(animationLoop);\r\n      if(window['fpsMeasurer']) {\r\n        window['fpsMeasurer'].tick(timestamp);\r\n      }\r\n    }\r\n    window.requestAnimationFrame(animationLoop);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction FPS () {\r\n  this.elapsed = 0\r\n  this.last = null\r\n}\r\n\r\nFPS.prototype.tick = function (now) {\r\n  this.elapsed = (now - (this.last || now)) / 1000;\r\n  this.last = now;\r\n};\r\n\r\nFPS.prototype.get = function() {\r\n    return Math.round(1 / this.elapsed);\r\n};\r\n\r\nwindow['fpsMeasurer'] = new FPS()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    var DIFF = 0.5;\r\n    function isNearZeroPx(value) {\r\n      return Math.abs(value) < DIFF;\r\n    }\r\n\r\n  shelvesCanvas.addEventListener(\"touchstart\", handleStart, false);\r\n  shelvesCanvas.addEventListener(\"touchend\", handleEnd, false);\r\n  shelvesCanvas.addEventListener(\"touchcancel\", handleCancel, false);\r\n  shelvesCanvas.addEventListener(\"touchmove\", handleMove, false);\r\n\r\n  var isCanvasTouched = false;\r\n  var moveDistance = 0;\r\n  var lastMoveX;\r\n\r\n  var distanceToMove = 0;\r\n\r\n  var backBtn = document.getElementById('backBtn');\r\n  backBtn.addEventListener('click', function() {\r\n    distanceToMove = distanceToMove - 250;\r\n    animationTimestamp = timestamp;\r\n  }, false);\r\n\r\n  var nextBtn = document.getElementById('nextBtn');\r\n  nextBtn.addEventListener('click', function() {\r\n    distanceToMove = distanceToMove + 250;\r\n    animationTimestamp = timestamp;\r\n  }, false);\r\n\r\n  function handleStart(e) {\r\n    e.preventDefault();\r\n    isCanvasTouched = true;\r\n  }\r\n\r\n  function handleEnd() {\r\n    isCanvasTouched = false;\r\n    lastMoveX = null;\r\n  }\r\n\r\n  function handleCancel() {\r\n    isCanvasTouched = false;\r\n    lastMoveX = null;\r\n  }\r\n\r\n  function handleMove(evt) {\r\n    isCanvasTouched = true;\r\n    var touch = evt.touches[0];\r\n\r\n    if(lastMoveX != null) {\r\n      moveDistance += touch.pageX - lastMoveX;\r\n    }\r\n    lastMoveX = touch.pageX;\r\n  }\r\n\r\n\r\n\r\n    var x = 0;\r\n    function Segment(data) {\r\n      ctx.fillStyle = data.color;\r\n      ctx.fillRect(x, 0, data.width, 100);\r\n\r\n      x += data.width;\r\n    }\r\n\r\n    function View() {\r\n      this.draw = function() {\r\n        x = 0;\r\n        for(var i = 0, l = segmentsData.length; i < l; i++) {\r\n          var segmentData = segmentsData[i];\r\n          new Segment(segmentData)\r\n        }\r\n      };\r\n    }\r\n\r\n    var view = new View();\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.ts\n **/"],"sourceRoot":""}