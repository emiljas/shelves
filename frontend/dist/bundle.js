!function(t){function e(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return t[a].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function a(){var t=document.getElementById("shelvesCanvasContainer");i["default"].canvas.width=t.offsetWidth,i["default"].canvas.height=1200*i["default"].scale}var i=n(1),o=n(2),r=n(4);i["default"].init(),r["default"].start(),o["default"]();var u=500;window.addEventListener("resize",_.debounce(function(t){a()},u)),a();var s=new Hammer(i["default"].canvas),d=0,c=_.throttle(function(t){i["default"].moveDistance+=t.deltaX-d,d=t.deltaX},100);s.on("panleft panright panup pandown tap press",c);var l=_.throttle(function(t){d=0},100);s.on("panend",l);var f=_.throttle(function(){.33==i["default"].scale?(i["default"].canvas.height*=3,i["default"].scale=1):(i["default"].canvas.height/=3,i["default"].scale=.33)},100);s.on("tap",f);var v=document.getElementById("backBtn");v.addEventListener("click",function(){i["default"].distanceToMove=i["default"].distanceToMove-250,i["default"].animationTimestamp=i["default"].timestamp},!1);var m=document.getElementById("nextBtn");m.addEventListener("click",function(){i["default"].distanceToMove=i["default"].distanceToMove+250,i["default"].animationTimestamp=i["default"].timestamp},!1)},function(t,e){"use strict";var n=function(){function t(){}return t.init=function(){t.canvas=document.getElementById("shelvesCanvas"),t.ctx=t.canvas.getContext("2d"),t.timestamp=0,t.moveDistance=0,t.distanceToMove=0},t.scale=.33,t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";function a(){function t(t,e){var n=document.createElement("p");n.textContent=e||t,Modernizr[t]?n.classList.add("green"):n.classList.add("red"),a.appendChild(n)}var e=document.createElement("div");e.classList.add("debugContainer"),e.classList.add("left");var n={min:0,cur:0,max:0};setInterval(function(){var t=i["default"].instance;n.cur=t.get(),n.min=Math.min(n.min||Number.MAX_VALUE,n.cur),n.max=Math.max(n.max,n.cur),n.max&&(e.textContent="FPS: min."+n.min+" cur."+n.cur+" max."+n.max)},500);var a=document.createElement("div");a.classList.add("debugContainer"),a.classList.add("right"),t("canvas"),t("requestanimationframe","raf"),t("xhr2"),t("webworkers"),t("transferables"),t("touchevents"),t("eventlistener"),document.body.appendChild(e),document.body.appendChild(a)}var i=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e){"use strict";var n=function(){function t(){this.elapsed=0,this.last=null}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.tick=function(t){this.elapsed=(t-(this.last||t))/1e3,this.last=t},t.prototype.get=function(){return Math.round(1/this.elapsed)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";function a(t){return Math.abs(t)<s}var i=n(3),o=n(1),r=n(5),u=function(){function t(){}return t.start=function(){window.requestAnimationFrame(t.loop)},t.loop=function(e){if(o["default"].timestamp=e,o["default"].ctx.clearRect(0,0,o["default"].canvas.width,o["default"].canvas.height),!a(o["default"].distanceToMove)){var n=(o["default"].timestamp-o["default"].animationTimestamp)/1e3,u=Math.sin(n)*o["default"].distanceToMove;o["default"].moveDistance+=u,o["default"].distanceToMove-=u}o["default"].ctx.save(),o["default"].ctx.translate(o["default"].moveDistance,0),o["default"].ctx.scale(o["default"].scale,o["default"].scale),r["default"](),o["default"].ctx.restore(),o["default"].lastTimestamp=e,window.requestAnimationFrame(t.loop),i["default"].instance.tick(e)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u;var s=.5},function(t,e,n){"use strict";function a(){d=0;for(var t=0;t<s.length;t++){var e=s[t];e.draw()}}function i(t){return new Promise(function(e,n){var a=new Image;a.src=t,a.addEventListener("load",function(){e(a)}),a.addEventListener("error",function(t){n(t)})})}for(var o=n(1),r=n(6),u=new r["default"],s=new Array,d=0,c=function(){function t(){}return t.loadByPosition=function(e){var n=new t;u.getByPosition(e).then(function(t){return n.data=t,s.push(n),i(t.spriteImgUrl)}).then(function(t){n.spriteImg=t})},t.prototype.draw=function(){var t=this.spriteImg;if(t)for(var e=this.data.productPositions,n=0;n<e.length;n++){var a=e[n];o["default"].ctx.drawImage(t,a.sx,a.sy,a.w,a.h,a.dx+d,a.dy,a.w,a.h)}d+=1050},t}(),l=1;8>l;l++)c.loadByPosition(l);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e){"use strict";var n=function(){function t(){}return t.prototype.getByPosition=function(t){return new Promise(function(e,n){var a=new XMLHttpRequest;a.addEventListener("load",function(t){e(JSON.parse(a.responseText))}),a.open("GET","http://192.168.1.104:3000/getSegment?position="+t),a.send()})},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n}]);
//# sourceMappingURL=bundle.js.map