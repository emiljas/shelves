!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(){var e=document.getElementById("shelvesCanvasContainer");i["default"].canvas.width=e.offsetWidth,i["default"].canvas.height=1920*i["default"].scale}var i=n(1),o=n(2),u=n(4);i["default"].init(),u["default"].start(),o["default"]();var s=500;window.addEventListener("resize",_.debounce(function(e){a()},s)),a();var d=new Hammer(i["default"].canvas,{touchAction:"none"});d.get("pan").set({direction:Hammer.DIRECTION_ALL});var r=0,c=0;d.on("pan",function(e){console.log("A"),i["default"].moveXDistance+=e.deltaX-r,r=e.deltaX,i["default"].moveYDistance+=e.deltaY-c,c=e.deltaY}),d.on("panend",function(e){r=0,c=0}),d.on("tap",function(){.33==i["default"].scale?(i["default"].canvas.height*=3,i["default"].scale=1):(i["default"].canvas.height/=3,i["default"].scale=.33)});var l=document.getElementById("backBtn");l.addEventListener("click",function(){i["default"].distanceToMove=i["default"].distanceToMove+250,i["default"].animationTimestamp=i["default"].timestamp},!1);var f=document.getElementById("nextBtn");f.addEventListener("click",function(){i["default"].distanceToMove=i["default"].distanceToMove-250,i["default"].animationTimestamp=i["default"].timestamp},!1)},function(e,t){"use strict";var n=function(){function e(){}return e.init=function(){e.canvas=document.getElementById("shelvesCanvas"),e.ctx=e.canvas.getContext("2d"),e.timestamp=0,e.moveXDistance=0,e.moveYDistance=0,e.distanceToMove=0},e.scale=.33,e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function a(){function e(e,t){var n=document.createElement("p");n.textContent=t||e,Modernizr[e]?n.classList.add("green"):n.classList.add("red"),a.appendChild(n)}var t=document.createElement("div");t.classList.add("debugContainer"),t.classList.add("left");var n={min:0,cur:0,max:0};setInterval(function(){var e=i["default"].instance;n.cur=e.get(),n.min=Math.min(n.min||Number.MAX_VALUE,n.cur),n.max=Math.max(n.max,n.cur),n.max&&(t.textContent="FPS: min."+n.min+" cur."+n.cur+" max."+n.max)},500);var a=document.createElement("div");a.classList.add("debugContainer"),a.classList.add("right"),e("canvas"),e("requestanimationframe","raf"),e("xhr2"),e("webworkers"),e("transferables"),e("touchevents"),e("eventlistener"),document.body.appendChild(t),document.body.appendChild(a)}var i=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t){"use strict";var n=function(){function e(){this.elapsed=0,this.last=null}return Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!0,configurable:!0}),e.prototype.tick=function(e){this.elapsed=(e-(this.last||e))/1e3,this.last=e},e.prototype.get=function(){return Math.round(1/this.elapsed)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function a(e){return Math.abs(e)<d}var i=n(3),o=n(1),u=n(5),s=function(){function e(){}return e.start=function(){window.requestAnimationFrame(e.loop)},e.loop=function(t){if(o["default"].timestamp=t,o["default"].ctx.clearRect(0,0,o["default"].canvas.width,o["default"].canvas.height),!a(o["default"].distanceToMove)){var n=(o["default"].timestamp-o["default"].animationTimestamp)/1e3,s=Math.sin(n)*o["default"].distanceToMove;o["default"].moveXDistance+=s,o["default"].distanceToMove-=s}o["default"].ctx.save(),o["default"].ctx.translate(o["default"].moveXDistance,o["default"].moveYDistance),o["default"].ctx.scale(o["default"].scale,o["default"].scale),u["default"](),o["default"].ctx.restore(),o["default"].lastTimestamp=t,window.requestAnimationFrame(e.loop),i["default"].instance.tick(t)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s;var d=.5},function(e,t,n){"use strict";function a(){r=0;for(var e=0;e<d.length;e++){var t=d[e];t.draw()}}function i(e){return new Promise(function(t,n){var a=new Image;a.src=e,a.addEventListener("load",function(){t(a)}),a.addEventListener("error",function(e){n(e)})})}for(var o=n(1),u=n(6),s=new u["default"],d=new Array,r=0,c=function(){function e(){}return e.loadByPosition=function(t){var n=new e;s.getByPosition(t).then(function(e){return n.data=e,d.push(n),i(e.spriteImgUrl)}).then(function(e){n.spriteImg=e})},e.prototype.draw=function(){var e=this.spriteImg;if(e)for(var t=this.data.productPositions,n=0;n<t.length;n++){var a=t[n];o["default"].ctx.drawImage(e,a.sx,a.sy,a.w,a.h,a.dx+r,a.dy,a.w,a.h)}r+=1050},e}(),l=1;8>l;l++)c.loadByPosition(l);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t){"use strict";var n=function(){function e(){}return e.prototype.getByPosition=function(e){return new Promise(function(t,n){var a=new XMLHttpRequest;a.addEventListener("load",function(e){t(JSON.parse(a.responseText))}),a.open("GET","http://192.168.1.104:3000/getSegment?position="+e),a.send()})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n}]);
//# sourceMappingURL=bundle.js.map